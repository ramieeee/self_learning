# nextjs

# route

- 기본적으로 route를 위한 라이브러리가 필요 없고 pages 디렉토리 밑에 파일명이 route가 됨.
  만약 파일명이 pages/helloworld.tsx이면 localhost:3000/helloworld 하면 해당 파일로 접근

# dinamic pages

- [id].tsx 와 같이 페이지를 동적으로 동작하도록 설정 가능

# Server Side Rendering

- client에서는 이 함수를 못봄
- 해당 함수는 컴포넌트 바깥에 위치해야함
- 컴포넌트가 마운트 되기 전에 수행됨

```typescript
interface CityData {
  id: string;
  title: string;
  description: string;
  image: string;
}

interface CityObject {
  data: CityData[];
}

export default function Home({ data }: CityObject) {
  return (
    <>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <header>
        <nav>
          <img />
          <a href="/" style={{ marginRight: "10px" }}>
            HOME
          </a>
          <a href="/events" style={{ marginRight: "10px" }}>
            Events
          </a>
          <a href="/Helloworld">Hello</a>
        </nav>
        <div>
          {data.map((city: CityData) => {
            return (
              <a
                key={city.id}
                style={{ marginTop: "20px" }}
                href={`/events/${city.id}`}
              >
                <div>{city.title}</div>
                <div>{city.description}</div>
              </a>
            );
          })}
        </div>
      </header>
      <main className={styles.main}></main>
    </>
  );
}

export async function getServerSideProps() {
  const { events_categories } = await import("./data.json");
  return {
    props: {
      data: events_categories,
    },
  };
}
```
